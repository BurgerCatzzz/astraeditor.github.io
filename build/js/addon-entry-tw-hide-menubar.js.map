{"version":3,"file":"js/addon-entry-tw-hide-menubar.js","sources":["webpack://GUI/./src/addons/addons/hide-menubar/style.css","webpack://GUI/./src/addons/addons/hide-menubar/_runtime_entry.js","webpack://GUI/./src/addons/addons/hide-menubar/_userscript.js","webpack://GUI/./src/addons/addons/hide-menubar/button.svg"],"sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".hide-text{\\n        --rotate: 0deg\\n}\\n.hide-text{\\n        transform: rotate(var(--rotate));\\n        width: 10px;\\n}\\n.hide-area{\\n        background-color: #00000000;\\n        z-index: 9999; /*置于顶层*/\\n        width: 100%;\\n        height: 40px;\\n        position: absolute;;\\n}\\n.hide-switch{\\n        --traslate: 40px\\n}\\n.hide-switch {\\n        position: absolute;\\n        left: 0;\\n        width: 30px;\\n        height: 30px;\\n        background-color: var(--editor-menu-background);\\n        transform: translateY(var(--traslate));\\n        transition: transform 0.5s ease;\\n        border-radius: 10px;\\n        border: 0;\\n        z-index: 480;\\n}\\n.hide-switch:hover{\\n        filter:brightness(1.2);\\n}\", \"\"]);\n\n// exports\n","/* generated by pull.js */\nimport _js from \"./_userscript.js\";\nimport _css from \"!css-loader!./style.css\";\nexport const resources = {\n  \"userscript.js\": _js,\n  \"style.css\": _css,\n};\n","\nexport default async function ({ addon, msg, Window }) {\n        const topBar = await addon.tab.waitForElement(\"[class^='gui_menu-bar-position']\", {\n                markAsSeen: true,\n                reduxEvents: [\n                        \"scratch-gui/mode/SET_PLAYER\",\n                        \"fontsLoaded/SET_FONTS_LOADED\",\n                        \"scratch-gui/locales/SELECT_LOCALE\",\n                ],\n                reduxCondition: (state) => !state.scratchGui.mode.isPlayerOnly,\n        });\n        const gui = await addon.tab.waitForElement(\"[class^='gui_page-wrapper']\", {\n                markAsSeen: true,\n                reduxEvents: [\n                        \"scratch-gui/mode/SET_PLAYER\",\n                        \"fontsLoaded/SET_FONTS_LOADED\",\n                        \"scratch-gui/locales/SELECT_LOCALE\",\n                ],\n                reduxCondition: (state) => !state.scratchGui.mode.isPlayerOnly,\n        });\n        const VSCodeLayout = JSON.parse(localStorage.getItem('AESettings')).EnableVSCodeLayout\n        const hind = document.getElementsByClassName('HindToolBar')[0];\n        if (!VSCodeLayout) {\n                hind.style.width = '40px';\n        } else {\n                hind.style.height = '30px';\n        }\n\n        const CHECK_AREA_HEIGHT = 60;\n        const BACK_AREA_HEIGHT = 10;\n\n        const button = document.createElement('button');\n        const text = document.createElement('img');\n\n\n        let isTouching = false;\n        let isLock = false;\n        let topBarHeight = topBar.offsetHeight //插件可以更改\n        let isTouchingAnyMenu = false;\n        let oldCheck = isTouching;\n\n        button.className = \"hide-switch\"\n        text.className = \"hide-text\"\n        topBar.style.position = 'absolute';\n        topBar.style.width = '100%';\n        topBar.style.top = `-${topBarHeight}px`;\n        topBar.style.transition = 'top 0.5s ease'\n        button.style.setProperty('--traslate', `-10px`);\n        button.style.opacity = '50%'\n\n        text.style.setProperty('--rotate', '0')\n\n        updateWorkSpace()\n\n        function setToolBarLock() {\n                topBar.style.position = 'relative';\n                text.style.setProperty('--rotate', '180deg');\n                button.style.setProperty('--traslate', `${40 + (topBarHeight - 48)}px`);\n                topBar.style.top = '0';\n\n        }\n\n        function updateWorkSpace() {\n                window.dispatchEvent(new Event('resize'));\n        }\n\n        function update(e) {\n                const toolBar = document.querySelectorAll(\"[class*='menu_right']\")\n                if (toolBar.length == 0) isTouchingAnyMenu = false;\n                else isTouchingAnyMenu = true;\n                topBarHeight = topBar.offsetHeight //插件可以更改\n                if (isLock) {\n                        setToolBarLock()\n                        return\n                } else {\n                        topBar.style.position = 'absolute';\n                        text.style.setProperty('--rotate', '0');\n                }\n                const isTouchArea = e.clientY < BACK_AREA_HEIGHT;\n                const isExitArea = isTouching && !(e.clientY < CHECK_AREA_HEIGHT)\n                if (isTouchArea) { //在屏幕上边\n                        topBar.style.top = '0';\n                        button.style.setProperty('--traslate', `${40 + (topBarHeight - 48)}px`);\n                        button.style.opacity = '100%'\n                        isTouching = true;\n                } else if (isExitArea && !isTouchingAnyMenu) {\n                        topBar.style.top = `-${topBarHeight}px`;\n                        button.style.setProperty('--traslate', `-10px`);\n                        button.style.opacity = '50%'\n                        isTouching = false;\n                }\n                if (oldCheck != isTouching) updateWorkSpace()\n\n                oldCheck = isTouching\n\n\n\n        }\n        document.addEventListener('mouseenter', (e) => {\n                update(e)\n        })\n        document.addEventListener('mousemove', (e) => {\n                update(e)\n        });\n        button.addEventListener('mousedown', (e) => {\n                isLock = !isLock //锁定\n                setToolBarLock()\n                updateWorkSpace()\n                update(e)\n        });\n\n        const buttonImg = require('./button.svg')\n        text.src = buttonImg\n        button.appendChild(text)\n        gui.appendChild(button)\n\n\n}","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMxIiBoZWlnaHQ9IjE4NSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgb3ZlcmZsb3c9ImhpZGRlbiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5NjMgLTExNTIpIj48cGF0aCBkPSJNMTk2OS4xOCAxMTU4LjI1QzE5NzYuNTYgMTE1MC44NiAxOTg4LjUzIDExNTAuODYgMTk5NS45MSAxMTU4LjI1TDIxNDEuNzUgMTMwNC4wOUMyMTQ5LjE0IDEzMTEuNDcgMjE0OS4xNCAxMzIzLjQ0IDIxNDEuNzUgMTMzMC44MkwyMTQxLjc1IDEzMzAuODJDMjEzNC4zNyAxMzM4LjIxIDIxMjIuNCAxMzM4LjIxIDIxMTUuMDIgMTMzMC44MkwxOTY5LjE4IDExODQuOThDMTk2MS43OSAxMTc3LjYgMTk2MS43OSAxMTY1LjYzIDE5NjkuMTggMTE1OC4yNVoiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik0yMjg3LjU5IDExNTguMjVDMjI5NC45OCAxMTY1LjYzIDIyOTQuOTggMTE3Ny42IDIyODcuNiAxMTg0Ljk4TDIxNDEuNzUgMTMzMC44MkMyMTM0LjM3IDEzMzguMjEgMjEyMi40IDEzMzguMjEgMjExNS4wMiAxMzMwLjgyTDIxMTUuMDIgMTMzMC44MkMyMTA3LjYzIDEzMjMuNDQgMjEwNy42MyAxMzExLjQ3IDIxMTUuMDIgMTMwNC4wOUwyMjYwLjg2IDExNTguMjVDMjI2OC4yNCAxMTUwLjg2IDIyODAuMjEgMTE1MC44NiAyMjg3LjYgMTE1OC4yNVoiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4=\""],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;;;;;;;;;;;ACrHA;;;;A","sourceRoot":""}