(window["webpackJsonpGUI"] = window["webpackJsonpGUI"] || []).push([["addon-entry-tw-hide-menubar"],{

/***/ "./node_modules/css-loader/index.js!./src/addons/addons/hide-menubar/style.css":
/*!****************************************************************************!*\
  !*** ./node_modules/css-loader!./src/addons/addons/hide-menubar/style.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".hide-text{\n        --rotate: 0deg\n}\n.hide-text{\n        transform: rotate(var(--rotate));\n        width: 10px;\n}\n.hide-area{\n        background-color: #00000000;\n        z-index: 9999; /*置于顶层*/\n        width: 100%;\n        height: 40px;\n        position: absolute;;\n}\n.hide-switch{\n        --traslate: 40px\n}\n.hide-switch {\n        position: absolute;\n        left: 0;\n        width: 30px;\n        height: 30px;\n        background-color: var(--editor-menu-background);\n        transform: translateY(var(--traslate));\n        transition: transform 0.5s ease;\n        border-radius: 10px;\n        border: 0;\n        z-index: 480;\n}\n.hide-switch:hover{\n        filter:brightness(1.2);\n}", ""]);

// exports


/***/ }),

/***/ "./src/addons/addons/hide-menubar/_runtime_entry.js":
/*!**********************************************************!*\
  !*** ./src/addons/addons/hide-menubar/_runtime_entry.js ***!
  \**********************************************************/
/*! exports provided: resources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resources", function() { return resources; });
/* harmony import */ var _userscript_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_userscript.js */ "./src/addons/addons/hide-menubar/_userscript.js");
/* harmony import */ var _css_loader_style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! css-loader!./style.css */ "./node_modules/css-loader/index.js!./src/addons/addons/hide-menubar/style.css");
/* harmony import */ var _css_loader_style_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_style_css__WEBPACK_IMPORTED_MODULE_1__);
/* generated by pull.js */


const resources = {
  "userscript.js": _userscript_js__WEBPACK_IMPORTED_MODULE_0__["default"],
  "style.css": _css_loader_style_css__WEBPACK_IMPORTED_MODULE_1___default.a
};

/***/ }),

/***/ "./src/addons/addons/hide-menubar/_userscript.js":
/*!*******************************************************!*\
  !*** ./src/addons/addons/hide-menubar/_userscript.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (async function (_ref) {
  let {
    addon,
    msg,
    Window
  } = _ref;
  const topBar = await addon.tab.waitForElement("[class^='gui_menu-bar-position']", {
    markAsSeen: true,
    reduxEvents: ["scratch-gui/mode/SET_PLAYER", "fontsLoaded/SET_FONTS_LOADED", "scratch-gui/locales/SELECT_LOCALE"],
    reduxCondition: state => !state.scratchGui.mode.isPlayerOnly
  });
  const gui = await addon.tab.waitForElement("[class^='gui_page-wrapper']", {
    markAsSeen: true,
    reduxEvents: ["scratch-gui/mode/SET_PLAYER", "fontsLoaded/SET_FONTS_LOADED", "scratch-gui/locales/SELECT_LOCALE"],
    reduxCondition: state => !state.scratchGui.mode.isPlayerOnly
  });
  const VSCodeLayout = JSON.parse(localStorage.getItem('AESettings')).EnableVSCodeLayout;
  const hind = document.getElementsByClassName('HindToolBar')[0];
  if (!VSCodeLayout) {
    hind.style.width = '40px';
  } else {
    hind.style.height = '30px';
  }
  const CHECK_AREA_HEIGHT = 60;
  const BACK_AREA_HEIGHT = 10;
  const button = document.createElement('button');
  const text = document.createElement('img');
  let isTouching = false;
  let isLock = false;
  let topBarHeight = topBar.offsetHeight; //插件可以更改
  let isTouchingAnyMenu = false;
  let oldCheck = isTouching;
  button.className = "hide-switch";
  text.className = "hide-text";
  topBar.style.position = 'absolute';
  topBar.style.width = '100%';
  topBar.style.top = "-".concat(topBarHeight, "px");
  topBar.style.transition = 'top 0.5s ease';
  button.style.setProperty('--traslate', "-10px");
  button.style.opacity = '50%';
  text.style.setProperty('--rotate', '0');
  updateWorkSpace();
  function setToolBarLock() {
    topBar.style.position = 'relative';
    text.style.setProperty('--rotate', '180deg');
    button.style.setProperty('--traslate', "".concat(40 + (topBarHeight - 48), "px"));
    topBar.style.top = '0';
  }
  function updateWorkSpace() {
    window.dispatchEvent(new Event('resize'));
  }
  function update(e) {
    const toolBar = document.querySelectorAll("[class*='menu_right']");
    if (toolBar.length == 0) isTouchingAnyMenu = false;else isTouchingAnyMenu = true;
    topBarHeight = topBar.offsetHeight; //插件可以更改
    if (isLock) {
      setToolBarLock();
      return;
    } else {
      topBar.style.position = 'absolute';
      text.style.setProperty('--rotate', '0');
    }
    const isTouchArea = e.clientY < BACK_AREA_HEIGHT;
    const isExitArea = isTouching && !(e.clientY < CHECK_AREA_HEIGHT);
    if (isTouchArea) {
      //在屏幕上边
      topBar.style.top = '0';
      button.style.setProperty('--traslate', "".concat(40 + (topBarHeight - 48), "px"));
      button.style.opacity = '100%';
      isTouching = true;
    } else if (isExitArea && !isTouchingAnyMenu) {
      topBar.style.top = "-".concat(topBarHeight, "px");
      button.style.setProperty('--traslate', "-10px");
      button.style.opacity = '50%';
      isTouching = false;
    }
    if (oldCheck != isTouching) updateWorkSpace();
    oldCheck = isTouching;
  }
  document.addEventListener('mouseenter', e => {
    update(e);
  });
  document.addEventListener('mousemove', e => {
    update(e);
  });
  button.addEventListener('mousedown', e => {
    isLock = !isLock; //锁定
    setToolBarLock();
    updateWorkSpace();
    update(e);
  });
  const buttonImg = __webpack_require__(/*! ./button.svg */ "./src/addons/addons/hide-menubar/button.svg");
  text.src = buttonImg;
  button.appendChild(text);
  gui.appendChild(button);
});

/***/ }),

/***/ "./src/addons/addons/hide-menubar/button.svg":
/*!***************************************************!*\
  !*** ./src/addons/addons/hide-menubar/button.svg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMxIiBoZWlnaHQ9IjE4NSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgb3ZlcmZsb3c9ImhpZGRlbiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5NjMgLTExNTIpIj48cGF0aCBkPSJNMTk2OS4xOCAxMTU4LjI1QzE5NzYuNTYgMTE1MC44NiAxOTg4LjUzIDExNTAuODYgMTk5NS45MSAxMTU4LjI1TDIxNDEuNzUgMTMwNC4wOUMyMTQ5LjE0IDEzMTEuNDcgMjE0OS4xNCAxMzIzLjQ0IDIxNDEuNzUgMTMzMC44MkwyMTQxLjc1IDEzMzAuODJDMjEzNC4zNyAxMzM4LjIxIDIxMjIuNCAxMzM4LjIxIDIxMTUuMDIgMTMzMC44MkwxOTY5LjE4IDExODQuOThDMTk2MS43OSAxMTc3LjYgMTk2MS43OSAxMTY1LjYzIDE5NjkuMTggMTE1OC4yNVoiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik0yMjg3LjU5IDExNTguMjVDMjI5NC45OCAxMTY1LjYzIDIyOTQuOTggMTE3Ny42IDIyODcuNiAxMTg0Ljk4TDIxNDEuNzUgMTMzMC44MkMyMTM0LjM3IDEzMzguMjEgMjEyMi40IDEzMzguMjEgMjExNS4wMiAxMzMwLjgyTDIxMTUuMDIgMTMzMC44MkMyMTA3LjYzIDEzMjMuNDQgMjEwNy42MyAxMzExLjQ3IDIxMTUuMDIgMTMwNC4wOUwyMjYwLjg2IDExNTguMjVDMjI2OC4yNCAxMTUwLjg2IDIyODAuMjEgMTE1MC44NiAyMjg3LjYgMTE1OC4yNVoiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4="

/***/ })

}]);
//# sourceMappingURL=addon-entry-tw-hide-menubar.js.map